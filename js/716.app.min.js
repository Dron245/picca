"use strict";(self.webpackChunkfls_start=self.webpackChunkfls_start||[]).push([[716],{7716:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(4848),c=n(6540),o=n(7767),i=n(4976),a=n(1083),s=n(1468),l=n(9196),u=n(1064),f=n(9087),p=n(4636),d=function(){return d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var c in e=arguments[n])Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c]);return t},d.apply(this,arguments)},h=function(t,e,n,r){return new(n||(n=Promise))((function(c,o){function i(t){try{s(r.next(t))}catch(t){o(t)}}function a(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var e;t.done?c(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,a)}s((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,c,o={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(c=2&a[0]?r.return:a[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,a[1])).done)return c;switch(r=0,c&&(a=[2&a[0],c.value]),a[0]){case 0:case 1:c=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(c=o.trys,(c=c.length>0&&c[c.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!c||a[1]>c[0]&&a[1]<c[3])){o.label=a[1];break}if(6===a[0]&&o.label<c[1]){o.label=c[1],c=a;break}if(c&&o.label<c[2]){o.label=c[2],o.ops.push(a);break}c[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=c=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};const y=function(){var t=(0,o.Zp)(),e=(0,s.wA)(),n=(0,o.g)().id,y=(0,s.d4)(u.L).items,v=(0,c.useState)(),x=v[0],j=v[1],m=y.find((function(t){return t.id===n})),w=(0,c.useState)(0),g=w[0],k=w[1],z=m&&1===m.types.length&&1===m.types[0]?(0,c.useState)(1):(0,c.useState)(0),N=z[0],S=z[1],C=(0,s.d4)((0,p.r)(n)),O=C?C.count:0;try{(0,c.useEffect)((function(){h(void 0,void 0,void 0,(function(){var t;return b(this,(function(e){switch(e.label){case 0:return[4,a.A.get("https://66853f80b3f57b06dd4bf714.mockapi.io/pizzas/"+"".concat(n))];case 1:return t=e.sent().data,j(t),[2]}}))}))}),[])}catch(e){alert("ошибка в получении пицц"),console.log(e),t("/")}return(0,r.jsx)("div",{className:"container",children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:m&&m.imageUrl}),(0,r.jsx)("p",{children:m&&m.title}),(0,r.jsxs)("p",{children:[m&&m.price," рублей"]}),(0,r.jsxs)("div",{className:"pizza-block__selector",children:[(0,r.jsx)("ul",{children:m&&m.types.map((function(t){return(0,r.jsx)("li",{onClick:function(){return S(t)},className:N===t?"active":"",children:f.D[t]},t)}))}),(0,r.jsx)("ul",{children:m&&m.sizes.map((function(t,e){return(0,r.jsx)("li",{onClick:function(){return k(e)},className:g===e?"active":"",children:t},e)}))})]}),(0,r.jsxs)("button",{onClick:function(){var t=d(d({},m),{types:f.D[N],sizes:m&&m.sizes[g],count:O});console.log(t),e((0,l.B5)(t))},className:"button button--outline button--add",children:["купить",O>0&&(0,r.jsx)("i",{children:O})]}),(0,r.jsx)(i.N_,{to:"/",className:"button button--outline button--add go-back-btn",children:(0,r.jsx)("span",{children:"Вернуться назад"})})]}):"Загрузка..."})}}}]);